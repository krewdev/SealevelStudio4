# Railway Configuration for Sealevel Studio
# This file configures build and deployment settings for Railway
# Railway will auto-detect Next.js even without this file, but this provides explicit configuration

[build]
builder = "NIXPACKS"
# Optimized build command with memory limits and timeout handling
buildCommand = "NODE_OPTIONS='--max-old-space-size=4096' npm ci --legacy-peer-deps && NODE_OPTIONS='--max-old-space-size=4096' npm run build"

[deploy]
startCommand = "npm start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/"
healthcheckTimeout = 100
